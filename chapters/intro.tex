\chapter{背景简介}
\section{数据中心网络}
现代数据中心在共享的设备资源基础上，为多个用户提供不同的服务。
为保障数据安全以及用户的独立性，数据中心向每个用户展现的是虚拟化的网络环境。
这就需要数据中心的管理者部署灵活的网络功能来实现这一要求。

由于硬件网络设备普遍灵活性受限，几乎所有的云服务商都用软件来实现其网络功能，
例如：微软、亚马逊、VMWare等。但软件实现网络功能的性能天然存在两个问题：

其一，吞吐率受限。现有的软件定义网络功能通常需要使用两个以上核才能达到10Gbps带宽，
而最新的网络设备带宽已达到40\textasciitilde 100Gbps。
尽管增加单服务器的核数能够提升部分性能，但与此同时成本也会大幅提升。
一方面是设备开销提高，另一方面则是能耗显著增加。

其二，延迟高且不稳定。现有软件定义网络的处理延迟从几十微秒到毫秒量级不等。
无法满足证券交易等对低延迟要求严苛的应用需求。

在图形处理器(graphics processing unit, GPU)、专用网络处理器和FPGA上均有相关的工作旨在保障灵活性的基础上客服软件处理网络包的上述限制。
相比于GPU而言，FPGA能耗更低；相比于专用网络处理器，FPGA可通过硬件逻辑实现更多服务所需的功能。
更重要的是，将FPGA部署在大规模数据中心的成本更低。

在数据中心中利用FPGA加速软件网络功能从预期上能够达到较好的性能，
但实践中面临的主要问题是编程方面困难。传统的FPGA逻辑是通过Verilog、VHDL等硬件描述语言编写，
这些语言所展现的是门、寄存器、多路选择器、时钟等非常底层的器件。
这样虽然方便手工优化逻辑，但也导致编程复杂度高、开发效率低下、调试方面等问题。
这些困难导致多年来很多人远离FPGA编程。

本文借助微软亚洲研究院无线与网络研究组最新开发的ClickNP平台进行FPGA编程，
针对数据中心网络场景优化了包生成器及接收器、OpenFlow防火墙、IPSec网关、L4负载均衡、pFabric流调度器等应用，
并对其性能进行评测。
%\section{模板简介}
%测试脚注\footnote{分别编号}。
%
%\subsection{模板介绍1}
%
%\subsubsection{模板测试}
%
%\subsection{模板介绍2}
%
%\section{系统要求}
%
%\section{问题反馈}
%测试脚注\footnote{脚注2}
